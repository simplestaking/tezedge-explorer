<div fxFlexFill
     class="resources-wizard">
  <div fxHide.gt-sm [style.height.px]="40"></div>
  <div fxFlexFill
       fxLayout="column"
       fxLayoutAlign="start stretch">
    <div class="tabs"
         fxLayoutAlign="space-between center">
      <div fxLayoutAlign="start"
           fxLayoutGap="16px">
        <div *ngFor="let tab of tabs"
             (click)="activeTabId = tab.id"
             [class.selected]="activeTabId === tab.id"
             class="tab">
          {{ tab.title }}
        </div>
      </div>
      <mat-form-field *ngIf="activeTabId === 2" class="combo-box">
        <mat-select [value]="'tezedge'" panelClass="resources-select" disableOptionCentering (selectionChange)="getStorageStatistics($event)">
          <mat-option value="tezedge">TezEdge</mat-option>
          <mat-option value="irmin">Irmin</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div *ngIf="activeTabId === 1"
         fxFlex="grow"
         fxLayout="column"
         fxLayout.gt-md="row-reverse"
         fxLayoutAlign="start stretch"
         class="resources-container">
      <div class="info-container"
           fxFlex.gt-md="20vw"
           fxLayout="column">
        <div class="info-content-container"
             fxFlex="grow"
             fxLayout="column"
             fxLayoutAlign="space-between">
          <ng-container *ngIf="chartData$ | async as chartData">
            <div class="additional-info"
                 *ngIf="activeTabId === 1"
                 [class.fade]="chartData"
                 [style.transition-delay.s]="0.2">
              <app-resources-summary [summaryBlocks]="resourcesSummary[activeSummary]"
                                     [resourceType]="activeSummary"></app-resources-summary>
            </div>
          </ng-container>
        </div>
      </div>
      <div *ngIf="chartData$ | async as chartData"
           fxFlex.gt-md="calc(100% - 20vw)"
           fxFlex.lt-lg="grow"
           fxLayout="column"
           fxLayoutAlign="start stretch"
           fxLayoutGap="10px"
           class="centered-container">

        <app-resources-graph [chartData]="chartData?.cpu"
                             [transitionDelay]="0.2"
                             [labelList]="resourcesSummary.cpu"
                             [resourceType]="'cpu'"
                             [graphTitle]="'CPU'"
                             [rotatedLabel]="'Load'"
                             [yAxisTickFormatting]="yAxisPercentageConversion"
                             [xTicksValues]="chartData.xTicksValues"
                             [colorScheme]="colorScheme"
                             [formattingType]="'percentage'"
                             (graphClick)="toggleActiveSummary($event)"></app-resources-graph>

        <app-resources-graph [chartData]="chartData?.memory"
                             [transitionDelay]="0.4"
                             [labelList]="resourcesSummary.memory"
                             [resourceType]="'memory'"
                             [graphTitle]="'RAM'"
                             [rotatedLabel]="'Usage'"
                             [yAxisTickFormatting]="yAxisMegaBytesConversion"
                             [xTicksValues]="chartData.xTicksValues"
                             [colorScheme]="colorScheme"
                             [formattingType]="'MB'"
                             (graphClick)="toggleActiveSummary($event)"></app-resources-graph>

        <app-resources-graph [chartData]="chartData?.disk"
                             [transitionDelay]="0.6"
                             [labelList]="resourcesSummary.disk"
                             [resourceType]="'disk'"
                             [graphTitle]="'DISK'"
                             [rotatedLabel]="'Storage'"
                             [yAxisTickFormatting]="yAxisGigaBytesConversion"
                             [xTicksValues]="chartData.xTicksValues"
                             [colorScheme]="colorScheme"
                             (graphClick)="toggleActiveSummary($event)"></app-resources-graph>

      </div>
    </div>
    <app-resources-storage *ngIf="activeTabId === 2"></app-resources-storage>
    <app-memory-resources *ngIf="activeTabId === 3"></app-memory-resources>

  </div>
</div>
